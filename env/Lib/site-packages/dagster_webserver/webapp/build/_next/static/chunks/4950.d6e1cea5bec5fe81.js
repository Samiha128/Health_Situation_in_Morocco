"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4950],{21473:function(e,n,t){t.d(n,{G:function(){return Y}});var r=t(73235),i=t(52322),s=t(89130),o=t(49853),l=t(49308),a=t(14934),u=t(37483),c=t(43212),d=t(89891),h=t(80122),p=t(92917),x=t(2784),j=t(7267),m=t(36381),f=t(76016),g=t(78491),v=t(16336),y=t(69737),b=t(92322),R=t(34219),S=t(89010),_=t(43984),C=t(33182),k=t(18856),E=t(15332),P=t(88610),I=t(59923),w=t(85062),F=t(100),O=t(22563),T=t(10539);function $(){let e=(0,r._)(["\n  query PipelineRunsRootQuery($limit: Int, $cursor: String, $filter: RunsFilter!) {\n    pipelineRunsOrError(limit: $limit, cursor: $cursor, filter: $filter) {\n      ... on Runs {\n        results {\n          id\n          ...RunTableRunFragment\n        }\n      }\n      ... on InvalidPipelineRunsFilterError {\n        message\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n  ","\n"]);return $=function(){return e},e}let A=["status","tag","id","created_date_before","created_date_after"],Y=e=>{(0,y.Px)();let{pipelinePath:n}=(0,j.UO)(),{repoAddress:t=null}=e,r=(0,m.p3)(n),{pipelineName:s,snapshotId:p}=r,g=(0,F.Ux)(t),P=(0,F.E8)(g,s);(0,f.b)(r,P);let T=(0,b.se)("PipelineRunsRoot"),[$,Y]=(0,k.oD)(A),U=(0,x.useMemo)(()=>[P?{token:"job",value:s}:{token:"pipeline",value:s},p?{token:"snapshotId",value:p}:null].filter(Boolean),[P,s,p]),V=[...$,...U];if(t){let e={token:"tag",value:"".concat(_.H.RepositoryLabelTag,"=").concat((0,O.Wg)(t))};V.push(e)}let{queryResult:z,paginationProps:Q}=(0,E.l)({query:H,pageSize:25,variables:{filter:{...(0,k.VH)(V),pipelineName:s,snapshotId:p}},nextCursorForResult:e=>{var n;if("Runs"===e.pipelineRunsOrError.__typename)return null===(n=e.pipelineRunsOrError.results[24])||void 0===n?void 0:n.id},getResultArray:e=>e&&"Runs"===e.pipelineRunsOrError.__typename?e.pipelineRunsOrError.results:[]});(0,R.Hu)(z,"PipelineRunsRootQuery");let L=(0,x.useCallback)(e=>{let n=(0,o.HY)(e);$.some(e=>(0,o.HY)(e)===n)||Y([...$,e])},[$,Y]),q=(0,v.C4)(z,v.dT),{button:B,activeFiltersJsx:D}=(0,k.Vv)({enabledFilters:A,tokens:$,onChange:Y,loading:z.loading});return(0,x.useEffect)(()=>{z.loading||T.endTrace()},[z.loading,T]),(0,i.jsx)(C.Lw.Provider,{value:{refetch:z.refetch},children:(0,i.jsx)(l.T,{children:(0,i.jsx)(I.g,{queryResult:z,allowStaleData:!0,children:e=>{let{pipelineRunsOrError:r}=e;if("Runs"!==r.__typename)return(0,i.jsx)(a.x,{padding:{vertical:64},children:(0,i.jsx)(u.t,{icon:"error",title:"Query Error",description:r.message})});let o=r.results.slice(0,25),{hasNextCursor:l,hasPrevCursor:p}=Q;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(w.Y,{$top:0,children:(0,i.jsx)(S.AL,{runs:o,onAddTag:L,actionBarComponents:(0,i.jsxs)(a.x,{flex:{direction:"row",justifyContent:"space-between",grow:1,alignItems:"center",gap:4},margin:{right:8},children:[B,(0,i.jsx)(v.xi,{refreshState:q})]}),belowActionBarComponents:(0,i.jsxs)(i.Fragment,{children:[U.map(e=>{let{token:n,value:t}=e;return(0,i.jsx)(c.V,{children:"".concat(n,":").concat(t)},n)}),D.length?(0,i.jsxs)(i.Fragment,{children:[D,(0,i.jsx)(d.Z,{onClick:()=>{Y([])},children:"Clear all"})]}):null]}),emptyState:()=>(0,i.jsx)(N,{repoAddress:t,anyFilter:$.length>0,jobName:s,jobPath:n})})}),l||p?(0,i.jsx)("div",{style:{marginTop:"20px"},children:(0,i.jsx)(h.pI,{...Q})}):null]})}})})})},N=e=>{let{repoAddress:n,anyFilter:t,jobName:r,jobPath:s}=e,o=(0,F.Ux)(n),l=(0,F.Hb)(o,r);return(0,i.jsx)(a.x,{padding:{vertical:64},children:(0,i.jsx)(u.t,{icon:"run",title:"No runs found",description:n?l?(0,i.jsxs)(a.x,{flex:{direction:"column",gap:12},children:[(0,i.jsx)("div",{children:t?"There are no matching runs for these filters.":"You have not materialized any assets with this job yet."}),(0,i.jsx)("div",{children:(0,i.jsx)(P.A,{icon:(0,i.jsx)(p.JO,{name:"materialization"}),to:(0,T.$U)(n,"/jobs/".concat(s)),children:"Materialize an asset"})})]}):(0,i.jsxs)(a.x,{flex:{direction:"column",gap:12},children:[(0,i.jsx)("div",{children:t?"There are no matching runs for these filters.":"You have not launched any runs for this job yet."}),(0,i.jsx)("div",{children:(0,i.jsx)(P.A,{icon:(0,i.jsx)(p.JO,{name:"add_circle"}),to:(0,T.$U)(n,"/jobs/".concat(s,"/playground")),children:"Launch a run"})})]}):(0,i.jsx)("div",{children:"You have not launched any runs for this job."})})})},H=(0,s.Ps)($(),S.ZZ,g.B)},84950:function(e,n,t){t.r(n),t.d(n,{SnapshotRoot:function(){return C},default:function(){return k}});var r=t(52322),i=t(7267),s=t(73235),o=t(89130),l=t(40794),a=t(43212),u=t(74580),c=t(35292),d=t(74188),h=t(73407),p=t(47933),x=t(34219),j=t(36381),m=t(89918),f=t(100),g=t(10539);function v(){let e=(0,s._)(["\n  query SnapshotQuery($snapshotId: String!) {\n    pipelineSnapshotOrError(snapshotId: $snapshotId) {\n      ... on PipelineSnapshot {\n        id\n        parentSnapshotId\n      }\n    }\n  }\n"]);return v=function(){return e},e}let y=(0,o.Ps)(v()),b=e=>{var n,t;let{activeTab:i="",explorerPath:s}=e,{pipelineName:o,snapshotId:v=""}=s,b=(0,j.gY)({...s,opNames:[]}),R=(0,f.Nc)(o),S=null==R?void 0:R.pipelineSnapshotId,_=(0,l.a)(y,{variables:{snapshotId:v}}),{data:C,loading:k}=_;return(0,x.Hu)(_,"SnapshotQuery"),(0,r.jsx)(u.m,{title:(0,r.jsx)(c.X6,{style:{fontFamily:d.b.monospace,fontSize:"16px"},children:null===(n=s.snapshotId)||void 0===n?void 0:n.slice(0,8)}),tags:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(a.V,{icon:"schema",children:["Snapshot of"," ",(0,r.jsx)(p.rU,{to:(0,g.r4)(s.pipelineName),children:s.pipelineName})]}),k?(0,r.jsx)(a.V,{intent:"none",minimal:!0,children:"..."}):S&&(S===v||(null==C?void 0:C.pipelineSnapshotOrError.__typename)!=="PipelineSnapshot"||(null==C?void 0:null===(t=C.pipelineSnapshotOrError)||void 0===t?void 0:t.parentSnapshotId)===S)?(0,r.jsx)(a.V,{intent:"success",minimal:!0,children:"Current"}):(0,r.jsx)(a.V,{intent:"warning",minimal:!0,children:"Snapshot"})]}),tabs:(0,r.jsx)(h.mQ,{selectedTabId:i,children:[{text:"Definition",pathComponent:"",href:"/snapshots/".concat(b)},{text:"Runs",pathComponent:"runs",href:"/snapshots/".concat(b,"runs")}].map(e=>{let{href:n,text:t,pathComponent:i}=e;return(0,r.jsx)(m.f,{id:i,title:t,to:n},t)})})})};var R=t(17872),S=t(46079),_=t(21473);let C=()=>{let{pipelinePath:e,tab:n}=(0,i.UO)(),t=(0,j.p3)(e);return(0,r.jsxs)("div",{style:{display:"flex",flexDirection:"column",minWidth:0,width:"100%",height:"100%"},children:[(0,r.jsx)(b,{activeTab:n,explorerPath:t}),(0,r.jsxs)(i.rs,{children:[(0,r.jsx)(R.A,{path:"/snapshots/:pipelinePath/runs",children:(0,r.jsx)(_.G,{})}),(0,r.jsx)(R.A,{path:"/snapshots/(/?.*)",children:(0,r.jsx)(S.CY,{})})]})]})};var k=C},85062:function(e,n,t){t.d(n,{Y:function(){return i}});var r=t(39013);let i=t(35505).ZP.div.withConfig({componentId:"sc-1e417a12-0"})(["thead tr{position:sticky;top:","px;background-color:",";z-index:1;}thead tr th{position:relative;}thead tr th::after{content:'';display:block;height:1px;background-color:",";position:absolute;bottom:-1px;left:0;right:0;}"],e=>{let{$top:n=0}=e;return n},r.v8(),r.wL())}}]);
//# sourceMappingURL=4950.d6e1cea5bec5fe81.js.map