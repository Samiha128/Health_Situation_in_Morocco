{"version":3,"file":"static/chunks/371.4b705f8fabdfe671.js","mappings":"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","sources":["webpack://_N_E/../ui-core/src/workspace/GuessJobLocationRoot.tsx"],"sourcesContent":["import {\n  Alert,\n  Box,\n  Heading,\n  NonIdealState,\n  Page,\n  PageHeader,\n  Table,\n} from '@dagster-io/ui-components';\nimport {Link, Redirect, useLocation, useParams, useRouteMatch} from 'react-router-dom';\n\nimport {isThisThingAJob, optionToRepoAddress, useRepositoryOptions} from './WorkspaceContext';\nimport {buildRepoPathForHuman} from './buildRepoAddress';\nimport {findRepoContainingPipeline} from './findRepoContainingPipeline';\nimport {workspacePath, workspacePathFromAddress} from './workspacePath';\nimport {useTrackPageView} from '../app/analytics';\nimport {explorerPathFromString} from '../pipelines/PipelinePathUtils';\nimport {LoadingSpinner} from '../ui/Loading';\n\nexport const GuessJobLocationRoot = () => {\n  useTrackPageView();\n\n  const params = useParams<{jobPath: string}>();\n  const {jobPath} = params;\n\n  const entireMatch = useRouteMatch('/guess/(/?.*)');\n  const location = useLocation();\n\n  const toAppend = (entireMatch!.params as any)[0];\n  const {search} = location;\n\n  const {pipelineName} = explorerPathFromString(jobPath);\n  const {loading, options} = useRepositoryOptions();\n\n  if (loading) {\n    return <LoadingSpinner purpose=\"page\" />;\n  }\n\n  const reposWithMatch = findRepoContainingPipeline(options, pipelineName);\n  if (reposWithMatch.length === 0) {\n    return (\n      <Box padding={{vertical: 64}}>\n        <NonIdealState\n          icon=\"no-results\"\n          title=\"No matching jobs\"\n          description={\n            <div>\n              <div>\n                <strong>{pipelineName}</strong>\n              </div>\n              was not found in any of your definitions.\n            </div>\n          }\n        />\n      </Box>\n    );\n  }\n\n  if (reposWithMatch.length === 1) {\n    const match = reposWithMatch[0]!;\n    const repoAddress = optionToRepoAddress(match);\n    const isJob = isThisThingAJob(match, pipelineName);\n    const to = workspacePathFromAddress(\n      repoAddress,\n      `/${isJob ? 'jobs' : 'pipelines'}/${toAppend}${search}`,\n    );\n    return <Redirect to={to} />;\n  }\n\n  const anyPipelines = reposWithMatch.some((repo) => !isThisThingAJob(repo, pipelineName));\n\n  return (\n    <Page>\n      <PageHeader\n        title={<Heading>{pipelineName}</Heading>}\n        icon=\"job\"\n        description={\n          anyPipelines\n            ? 'Job / pipeline in multiple code locations'\n            : 'Job in multiple code locations'\n        }\n      />\n      <Box padding={{vertical: 16, horizontal: 24}}>\n        <Alert\n          intent=\"info\"\n          title={\n            <div>\n              {anyPipelines ? (\n                <>\n                  Jobs or pipelines named <strong>{pipelineName}</strong> were found in multiple\n                  code locations.\n                </>\n              ) : (\n                <>\n                  Jobs named <strong>{pipelineName}</strong> were found in multiple code locations.\n                </>\n              )}\n            </div>\n          }\n        />\n      </Box>\n      <Table>\n        <thead>\n          <tr>\n            <th>Code location</th>\n            <th>{anyPipelines ? 'Job / Pipeline' : 'Job'}</th>\n          </tr>\n        </thead>\n        <tbody>\n          {reposWithMatch.map((repository) => {\n            const {\n              repository: {name},\n              repositoryLocation: {name: location},\n            } = repository;\n            const repoString = buildRepoPathForHuman(name, location);\n            return (\n              <tr key={repoString}>\n                <td style={{width: '40%'}}>{repoString}</td>\n                <td>\n                  <Link\n                    to={workspacePath(\n                      name,\n                      location,\n                      `/${\n                        isThisThingAJob(repository, pipelineName) ? 'jobs' : 'pipelines'\n                      }/${pipelineName}`,\n                    )}\n                  >\n                    {pipelineName}\n                  </Link>\n                </td>\n              </tr>\n            );\n          })}\n        </tbody>\n      </Table>\n    </Page>\n  );\n};\n\n// Imported via React.lazy, which requires a default export.\n// eslint-disable-next-line import/no-default-export\nexport default GuessJobLocationRoot;\n"],"names":["GuessJobLocationRoot","useTrackPageView","jobPath","useParams","entireMatch","useRouteMatch","location","useLocation","toAppend","params","search","pipelineName","explorerPathFromString","loading","options","useRepositoryOptions","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","jsx","LoadingSpinner","purpose","reposWithMatch","findRepoContainingPipeline","length","Box","padding","vertical","NonIdealState","icon","title","description","jsxs","div","strong","match","repoAddress","optionToRepoAddress","isJob","isThisThingAJob","to","workspacePathFromAddress","concat","Redirect","anyPipelines","some","repo","Page","PageHeader","Heading","horizontal","Alert","intent","Fragment","Table","thead","tr","th","tbody","map","repository","name","repositoryLocation","repoString","buildRepoPathForHuman","td","style","width","Link","workspacePath","__webpack_exports__"],"sourceRoot":""}